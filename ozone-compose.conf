# Ozone Docker Compose Configuration File
# Configuration for multi-container setup with docker exec access

# SSH Configuration for multi-container setup
SSH_USER="rocky"
SSH_PRIVATE_KEY_FILE="rocky9_key"

# Container Configuration
COMPOSE_PROJECT_NAME="ozone-cluster"

# Cluster Configuration
CLUSTER_HOSTS="om1,om2,om3,scm1,scm2,scm3,recon,s3gateway,datanode1,datanode2,datanode3,httpfs"

# Service Distribution Configuration
# Specify which hosts run which services (comma-separated)
OM_HOSTS="om1,om2,om3"                              # Ozone Manager hosts
SCM_HOSTS="scm1,scm2,scm3"                         # Storage Container Manager hosts
DATANODE_HOSTS="datanode1,datanode2,datanode3"     # DataNode hosts
RECON_HOSTS="recon"                                 # Recon service hosts
S3GATEWAY_HOSTS="s3gateway"                         # S3 Gateway service hosts
HTTPFS_HOSTS="httpfs"                               # HttpFS service hosts

# Service Port Mappings
# OM Services
OM1_WEB_PORT="9874"
OM2_WEB_PORT="9875"
OM3_WEB_PORT="9873"

# SCM Services
SCM1_WEB_PORT="9876"
SCM2_WEB_PORT="9877"
SCM3_WEB_PORT="9879"

# Other Services
RECON_WEB_PORT="9888"
S3GATEWAY_PORT="9878"
HTTPFS_PORT="14000"

# DataNode Services
DATANODE1_WEB_PORT="9882"
DATANODE2_WEB_PORT="9883"
DATANODE3_WEB_PORT="9884"

# Observability Services
PROMETHEUS_PORT="9090"
GRAFANA_PORT="3000"

# Ozone Installation Configuration (same for all containers)
OZONE_VERSION="2.0.0"
OZONE_INSTALL_DIR="/opt/ozone"
OZONE_DOWNLOAD_URL="https://archive.apache.org/dist/ozone/\${OZONE_VERSION}/ozone-\${OZONE_VERSION}.tar.gz"

# Storage Directories (mounted as volumes in Docker Compose)
OZONE_OM_DB_DIR="/var/lib/hadoop-ozone/om/data"
OZONE_METADATA_DIRS="/var/lib/hadoop-ozone/om/ozone-metadata"
OZONE_OM_RATIS_STORAGE_DIR="/var/lib/hadoop-ozone/om/ratis"

OZONE_SCM_DB_DIRS="/var/lib/hadoop-ozone/scm/data"
OZONE_SCM_HA_RATIS_STORAGE_DIR="/var/lib/hadoop-ozone/scm/ratis"
OZONE_SCM_METADATA_DIRS="/var/lib/hadoop-ozone/scm/ozone-metadata"

OZONE_RECON_DB_DIR="/var/lib/hadoop-ozone/recon/data"
OZONE_RECON_SCM_DB_DIRS="/var/lib/hadoop-ozone/recon/scm/data"
OZONE_RECON_OM_DB_DIR="/var/lib/hadoop-ozone/recon/om/data"
OZONE_RECON_METADATA_DIRS="/var/lib/hadoop-ozone/recon/ozone-metadata"

OZONE_SCM_DATANODE_ID_DIR="/var/lib/hadoop-ozone/datanode"
DFS_CONTAINER_RATIS_DATANODE_STORAGE_DIR="/var/lib/hadoop-ozone/datanode/ratis/data"
HDDS_DATANODE_DIR="/var/lib/hadoop-ozone/datanode/data"
OZONE_DATANODE_METADATA_DIRS="/var/lib/hadoop-ozone/datanode/ozone-metadata"

# Network Configuration
DOCKER_NETWORK_NAME="ozone-network"
DOCKER_SUBNET="172.20.0.0/16"

# High Availability Configuration
OM_SERVICE_IDS="om1,om2,om3"
SCM_SERVICE_IDS="scm1,scm2,scm3"

# Observability Configuration
INSTALL_PROMETHEUS="true"
INSTALL_GRAFANA="true"
PROMETHEUS_DATA_DIR="/var/lib/prometheus"
GRAFANA_DATA_DIR="/var/lib/grafana"
GRAFANA_LOGS_DIR="/var/log/grafana"